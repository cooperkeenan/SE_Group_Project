<!-- put this xmlns near the top of the page -->



<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:models="clr-namespace:EnviroMonitorApp.Models"
             x:Class="EnviroMonitorApp.Views.AirQualityPage">

    <Label Text="Loading..." TextColor="Gray" HorizontalOptions="Center" />
    <CollectionView ItemsSource="{Binding AirQuality}">
        <CollectionView.ItemTemplate>
            <DataTemplate x:DataType="models:AirQualityRecord">
                <Frame Margin="8"
                    Padding="12"
                    CornerRadius="12"
                    BorderColor="LightGray"
                    HasShadow="True">
                    <VerticalStackLayout Spacing="4">

                        <Label Text="{Binding Timestamp, StringFormat='{}{0:yyyy-MM-dd HH:mm}'}"
                            FontAttributes="Bold"
                            FontSize="16"
                            TextColor="Black"/>

                        <HorizontalStackLayout>
                            <Label Text="NO₂:" FontAttributes="Bold" />
                            <Label Text="{Binding NO2}" />
                        </HorizontalStackLayout>

                        <HorizontalStackLayout>
                            <Label Text="SO₂:" FontAttributes="Bold" />
                            <Label Text="{Binding SO2}" />
                        </HorizontalStackLayout>

                        <HorizontalStackLayout>
                            <Label Text="PM₂.₅:" FontAttributes="Bold" />
                            <Label Text="{Binding PM25}" />
                        </HorizontalStackLayout>

                        <HorizontalStackLayout>
                            <Label Text="PM₁₀:" FontAttributes="Bold" />
                            <Label Text="{Binding PM10}" />
                        </HorizontalStackLayout>

                    </VerticalStackLayout>
                </Frame>
            </DataTemplate>
        </CollectionView.ItemTemplate>
    </CollectionView>
</ContentPage>
